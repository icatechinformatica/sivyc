    body{ font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji"; }
    :root { color-scheme: light dark; }
    * { box-sizing: border-box; }
    body {
      font-family: system-ui,-apple-system,"Segoe UI",Roboto,Inter,sans-serif;
      margin:0; padding:20px;
      background: canvas;
      color: CanvasText;
    }
    h1 { margin:0 0 4px 0; font-size: clamp(22px, 2.2vw, 34px); }
    .muted { opacity:.7; font-size:.9rem; }

    /* GRID principal */
    .grid-3 {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 16px;
    }
    .card {
      background: canvas;
      border: 1px solid color-mix(in oklab, CanvasText 18%, transparent);
      border-radius: 14px;
      padding: 14px 16px;
      box-shadow: 0 0 0 1px color-mix(in oklab, CanvasText 5%, transparent) inset;
    }
    .kpis { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin: 10px 0 16px; }
    .kpi { padding: 12px; border-radius: 12px; background: color-mix(in oklab, CanvasText 6%, transparent); }
    .kpi h4 { margin: 0 0 6px 0; font-weight:500; }
    .kpi .val { font-weight:800; font-size: clamp(20px, 2vw, 32px); letter-spacing: 0.5px; }

    /* Charts contenedores */
    .chart-card { height: 320px; display:flex; flex-direction:column; }
    .chart-wrap { flex: 1 1 auto; min-height: 0; }
    .chart-wrap canvas { width:100% !important; height:100% !important; }

    /* Panel ejecutivo por unidad */
    .exec {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }
    .exec-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
        gap: 14px;
    }
    .exec-item {
        border: 1px dashed rgba(255,255,255,.12);
        border-radius: 12px;
        padding: 14px;
        background: rgba(255,255,255,.02);
    }
    .exec-item:hover { border-color: color-mix(in oklab, CanvasText 35%, transparent) }
    .exec-head {
        display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;
    }
    .exec-title { font-weight:700; text-transform:uppercase; }
    .exec-bars { display:flex; flex-direction: column; gap: 8px; }
    .bar-row { display:flex; align-items:center; gap:10px; }
    .bar-label { width: 72px; text-align: right; font-size:12px; opacity:.8; }

    /* Track sin huecos entre segmentos */
    .bar-track{
    flex: 1 1 auto;              /* <<< clave */
    display:flex;                /* apila segmentos sin huecos */
    position:relative;
    height:16px;
    border-radius:999px;
    background:rgba(255,255,255,.08);
    overflow:hidden;
    }

    /* Cada tramo se anima con flex-basis (ancho) */
    .bar-fill{
    height:100%;
    flex: 0 0 0%;
    transition: none;            /* anime.js controla la animación */
    }

    .bar-fill.ok   { background:#1db954; } /* a tiempo */
    .bar-fill.late { background:#f2b01e; } /* retardo */
    .bar-fill.miss { background:#e53935; } /* faltan */

    /* bordes solo en extremos visibles */
    .bar-fill.first{ border-top-left-radius:999px;  border-bottom-left-radius:999px; }
    .bar-fill.last { border-top-right-radius:999px; border-bottom-right-radius:999px; }


    .exec-foot { display:flex; justify-content:flex-end; gap:14px; font-size:12px; opacity:.8; }

    /* Feed de actividad (sin tablas) */
    .feed { display:flex; flex-direction:column; gap:8px; }
    .feed-item {
      display:flex; align-items:center; gap:12px;
      padding: 10px 12px; border-radius: 10px;
      background: color-mix(in oklab, CanvasText 6%, transparent);
    }
    .badge-time {
      min-width:62px; text-align:center; font-weight:700;
      padding: 4px 8px; border-radius: 8px;
      background: color-mix(in oklab, CanvasText 8%, transparent);
    }
    .feed-body { display:flex; gap:12px; flex-wrap: wrap; align-items:baseline; }
    .feed-strong { font-weight:700; }
    .feed-subtle { opacity:.7; }
    .feed-wrap { max-height: 430px; overflow:auto; }
    .section-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
    .pill { padding: 2px 10px; border-radius: 999px; background: color-mix(in oklab, CanvasText 8%, transparent); font-size: 12px; }
    @media (max-width: 1100px) {
      .grid-3 { grid-template-columns: 1fr; }
      .exec { grid-template-columns: 1fr; }
      .kpis { grid-template-columns: 1fr; }
    }

    /* Contenedor raíz del modal */
    #peopleModal{
    position:fixed; inset:0;
    display:none;                /* controlado por data-state */
    align-items:center; justify-content:center;
    z-index:9998;
    }

    /* Estados de visualización */
    #peopleModal[data-state="open"]   { display:flex; }
    #peopleModal[data-state="closed"] { display:none; }

    /* Fondo */
    #peopleModal .modal-backdrop{
    position:absolute; inset:0;
    background:rgba(0,0,0,.5);
    opacity:0;                   /* animado */
    }

    /* Panel */
    #peopleModal .modal-panel{
    position:relative;
    width:min(720px,92vw);
    max-height:80vh; overflow:auto;
    background:#111; color:#eee;
    border:1px solid rgba(255,255,255,.1);
    border-radius:14px;
    padding:16px 18px;
    box-shadow:0 10px 40px rgba(0,0,0,.55);
    opacity:0;                   /* animado */
    transform:translateY(16px) scale(.985); /* animado */
    }

    /* Header */
    #peopleModal .modal-header{
    display:flex; align-items:center; gap:10px; margin-bottom:10px;
    }
    #peopleModal .modal-header h3{
    margin:0; font-weight:700; font-size:1.1rem;
    }
    #peopleModal .btn-close{
    margin-left:auto;
    border:0; background:#222; color:#ddd;
    padding:6px 10px; border-radius:8px; cursor:pointer;
    }
    #peopleModal .btn-close:hover{ background:#2a2a2a; }

    /* Body */
    #peopleModal .modal-body { gap: 6px; }

    :root{
    /* Base */
    --bg: #0e1116;            /* fondo */
    --bg-elev-1:#141821;      /* tarjeta */
    --bg-elev-2:#0f131b;      /* contenedores */
    --text:#e8edf2;           /* texto primario */
    --muted:#a6b0bb;          /* texto secundario */
    --line: rgba(255,255,255,.08); /* bordes sutiles */

    /* Ejecutivos (accentos) */
    --brand:#61c2ff;          /* acento corporativo */
    --brand-2:#7affc5;        /* acento secundario */

    /* Estado */
    --ok:#19c37d;             /* verde */
    --late:#f2b01e;           /* amarillo */
    --miss:#e84141;           /* rojo */

    /* Otros */
    --chip:#222a36;
    --shadow: 0 10px 32px rgba(0,0,0,.45);
    --radius: 14px;
    }

    /* Soporte claro si algún directivo lo activa en el navegador */
    @media (prefers-color-scheme: light){
    :root{
        --bg:#f7f9fc; --bg-elev-1:#ffffff; --bg-elev-2:#f2f6fb;
        --text:#1c242e; --muted:#526170; --line:rgba(0,0,0,.07);
        --shadow: 0 10px 28px rgba(0,0,0,.12);
    }
    }

    html,body{ background: radial-gradient(1200px 1200px at 110% -10%, rgba(97,194,255,.08), transparent 40%), var(--bg); color:var(--text); }

    .container-xl{ max-width:1200px; margin:0 auto; padding:24px 20px; }

    /* Cabeceras / secciones */
    .card{
    background: linear-gradient(180deg, var(--bg-elev-1), var(--bg-elev-2));
    border:1px solid var(--line);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding:18px;
    }
    .section-head{
    display:flex; align-items:center; gap:12px; margin-bottom:12px;
    }
    .section-head h3{
    margin:0; font-size:1.05rem; font-weight:800; letter-spacing:.2px;
    }
    .pill{
    padding:4px 10px; border-radius:999px; background:var(--chip); color:var(--muted);
    border:1px solid var(--line); font-size:.8rem;
    }

    /* Ejecutivos: info-top chips */
    .info-row{ display:flex; flex-wrap:wrap; gap:8px; margin-bottom:12px; }
    .info-chip{
    background:var(--chip); color:var(--text); border:1px solid var(--line);
    padding:6px 10px; border-radius:999px; font-weight:600; font-size:.85rem;
    }
    .info-chip .dot{ width:8px; height:8px; border-radius:50%; display:inline-block; margin-right:8px; }
    .dot-ok{ background:var(--ok); } .dot-late{ background:var(--late);} .dot-miss{ background:var(--miss);}

    /* Grid de tarjetas de unidades */
    .exec{ display:grid; grid-template-columns: repeat(auto-fit, minmax(420px, 1fr)); gap:14px; }
    .exec-item{ border:1px dashed var(--line); background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)); border-radius:12px; padding:14px; }
    .exec-head{ display:flex; align-items:center; }
    .exec-title{ font-weight:800; text-transform:uppercase; letter-spacing:.6px; }
    .exec-total{ color:var(--brand); }

    /* Barra apilada */
    .bar-row{ display:flex; align-items:center; gap:10px; }
    .bar-track{
    flex:1 1 auto; display:flex; height:16px; border-radius:999px;
    background:rgba(255,255,255,.06); overflow:hidden; border:1px solid var(--line);
    }
    .bar-fill{ height:100%; flex:0 0 0%; transition:none; }
    .bar-fill.ok{   background:linear-gradient(90deg, var(--ok), #2dde98); }
    .bar-fill.late{ background:linear-gradient(90deg, var(--late), #ffcc4d); }
    .bar-fill.miss{ background:linear-gradient(90deg, #b92c2c, var(--miss)); opacity:.9; }
    .bar-fill.first{ border-top-left-radius:999px; border-bottom-left-radius:999px; }
    .bar-fill.last{  border-top-right-radius:999px; border-bottom-right-radius:999px; }

    /* Tooltip */
    #stackTooltip{
    position:fixed; left:0; top:0; transform:translate(-9999px,-9999px);
    background:rgba(0,0,0,.88); color:#fff; padding:6px 10px; border-radius:8px;
    font-size:.85rem; pointer-events:none; z-index:9999; white-space:nowrap;
    border:1px solid rgba(255,255,255,.12);
    }

    /* Modal animado (tu versión ya animada) */
    #peopleModal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:9998; }
    #peopleModal[data-state="open"]{ display:flex; }
    #peopleModal[data-state="closed"]{ display:none; }
    #peopleModal[data-state="closing"]{ pointer-events:none; }
    #peopleModal .modal-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.5); opacity:0; }
    #peopleModal .modal-panel{
    position:relative; width:min(720px,92vw); max-height:80vh; overflow:auto;
    background:var(--bg-elev-1); color:var(--text); border:1px solid var(--line);
    border-radius:var(--radius); padding:16px 18px; box-shadow: var(--shadow);
    opacity:0; transform: translateY(16px) scale(.985);
    }
    #peopleModal .modal-header{ display:flex; align-items:center; gap:10px; margin-bottom:10px; }
    #peopleModal .modal-header h3{ margin:0; font-weight:800; letter-spacing:.2px; }
    #peopleModal .btn-close{ margin-left:auto; border:0; background:#222a36; color:#ddd; padding:6px 10px; border-radius:8px; cursor:pointer; border:1px solid var(--line); }
    #peopleModal .btn-close:hover{ background:#273140; }

    /* Listas del modal */
    #peopleModal .modal-body{ display:grid; gap:8px; }
    .list-row{
    display:flex; align-items:center; gap:10px; padding:8px 10px;
    border:1px solid var(--line); border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
    }
    .list-row strong{ font-weight:800; }

    /* Botones sutiles (si los usas) */
    .btn{
    background:linear-gradient(180deg, var(--brand), #3fb2ff); color:#092035;
    border:0; border-radius:10px; padding:8px 14px; font-weight:800; letter-spacing:.2px;
    box-shadow: 0 6px 18px rgba(97,194,255,.25);
    }
    .btn:active{ transform: translateY(1px); }

    /* Titulares grandes (opcional) */
    .page-title{
    font-size:1.35rem; font-weight:900; letter-spacing:.3px; margin-bottom:10px;
    background: linear-gradient(90deg, var(--brand), var(--brand-2));
    -webkit-background-clip:text; background-clip:text; color:transparent;
    }

        /* GRID para las cards */
    .latest-grid{
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
    }
    @media (min-width: 920px){
    .latest-grid{ grid-template-columns: 1fr 1fr; }
    }

    /* Card ejecutiva */
    .latest-card{
    position: relative;
    background: #141922;
    border-radius: 14px;
    padding: 14px 16px 14px 14px;
    box-shadow: 0 1px 0 rgba(255,255,255,0.03) inset, 0 8px 30px rgba(0,0,0,0.25);
    overflow: hidden;
    border: 1px solid rgba(255,255,255,0.04);
    }

    /* Acento por tipo (verde/amarillo/rojo) en el borde izquierdo */
    .latest-card::before{
    content: "";
    position: absolute;
    left: 0; top: 0; bottom: 0;
    width: 6px;
    border-radius: 14px 0 0 14px;
    background: #3b82f6; /* fallback */
    }
    .latest-card.ok::before   { background: #19c37d; }  /* a tiempo */
    .latest-card.late::before { background: #f2b01e; }  /* retardo */
    .latest-card.miss::before { background: #e84141; }  /* fuera */

    /* Encabezado compacto de la card */
    .latest-top{
    display: flex; align-items: center; gap: 10px; margin-bottom: 6px;
    }
    .latest-time{
    font-weight: 700;
    background: #1f2530;
    border: 1px solid rgba(255,255,255,0.06);
    padding: 6px 10px;
    border-radius: 10px;
    letter-spacing: .5px;
    }
    .latest-name{
    font-weight: 800; letter-spacing:.4px;
    }

    /* Meta línea */
    .latest-meta{
    color: #aeb6c2;
    display: flex; flex-wrap: wrap; gap: 8px;
    font-size: .95rem;
    }
    .latest-dot{ opacity:.5; }

    /* === Animación de entrada para cada card nueva (la activaremos en JS en el paso 2) === */
    @keyframes feedIn {
    from { opacity: 0; transform: translateY(6px) scale(.98); }
    to   { opacity: 1; transform: translateY(0)    scale(1); }
    }
    @keyframes feedHighlight {
    0%   { box-shadow: 0 0 0 0 rgba(97,194,255,.35); }
    100% { box-shadow: 0 0 0 14px rgba(97,194,255,0); }
    }
    .latest-card.enter{
    animation: feedIn .35s ease-out both, feedHighlight .8s ease-out .1s both;
    }
    @media (prefers-reduced-motion: reduce){
    .latest-card.enter{ animation: none; }
    }
